<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.11.0/build/cssreset/cssreset-min.css">

        <!-- DEPENDENCIES -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="lib/slidesModule.jquery.js"></script>
        <script src="lib/eagerLoad.jquery.js"></script>
        <script src="lib/debouncedEvents.jquery.js"></script>
        <script src="lib/jquery.touchSwipe.js"></script>
        <script src="lib/jquery.transit.js"></script>

        <script src="flexGallery.jquery.js"></script>

		<style type="text/css">
        /* CSS Here */
        html, body { height: 100%; min-height: 100%; }
        #container {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000;
        }
        button {
            display: block;
            position: absolute; 
            box-sizing: border-box;
            -moz-box-sizing: border-box;
            top: 50%; 
            width: 120px;
            height: 40px; 
            line-height: 34px;
            margin-top: -20px;
            margin-left: 50%; 
            left: -60px;
            opacity: .6;
            border: 1px solid #000;
            background-color: #222;
            color: #dedede;
            border-radius: 4px;
            cursor: pointer;
            outline: none;
            z-index: 2;
        }
        button:hover {
            opacity: .7;
        }
        </style>

		<title>Gallery Demo</title>
	</head>
	<body>

        <div id="container"><button>Loading ...</button></div>

		<script type="text/javascript"></script>

		<script type="text/javascript">
            var galleryImages = [
                "http://placeimg.com/900/480/nature?1",
                "http://placeimg.com/480/640/nature?2",
                "http://placeimg.com/640/480/nature?3",
                "http://placeimg.com/480/640/nature?4"
            ];

            var intervalTime = 3000;

            var setupButton = function(images) {
                var gallery = this;
                $(images).show();

                $('button').click(function() { 
                    gallery.slides.next(); 
                }).html("NEXT &raquo;");

                $('#container').click(function() {
                    gallery.slides.timer.disable(); 
                });
            };

        //var myGallery = $.flexGallery($('#container'),galleryImages, intervalTime, setupButton);
        var myGallery = $.flexGallery($('#container'),galleryImages, intervalTime, setupButton, function(currIndex,index,curr,next) {

                var movement = { 
                    out: currIndex < index ? "-=50px" : "+=50px",
                    in: currIndex < index ? "+=50px" : "-=50px"
                };

                if(currIndex == index) {
                    movement.in = "0";
                    movement.out = "0";
                }

                $(curr).transition({
                    opacity: 0,
                    duration: 600,
                    x: movement.out
                });
                $(curr).transition({
                    duration: 0,
                    x: 0
                });

                $(next).transition({
                    opacity: 0,
                    duration: 0,
                    x: movement.in
                });

                $(next).transition({
                    opacity: 1,
                    duration: 800,
                    x: 0
                });
        });
        </script>

	</body>
</html>

